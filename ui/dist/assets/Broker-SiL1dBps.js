import{c as B,r as i,q as x,j as e,S as me,l as Q,e as xe,X as I,o as ue}from"./index-CJAOEYsQ.js";import{D as he}from"./database-CBg514G7.js";import{C as M}from"./check-DGCGWNbd.js";import{R as ge}from"./refresh-cw-Uhijyyid.js";import{L as V}from"./loader-9s8UsnVS.js";import{P as be}from"./plus-vpH2FByq.js";import{S as W}from"./search-D7lMVmtB.js";import{S as Z}from"./star-8i3fMJ__.js";const pe=B("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),fe=B("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),je=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),De=()=>{var K;const[T,q]=i.useState("data"),[p,y]=i.useState(!1),[g,d]=i.useState(!1),[z,L]=i.useState(!1),[o,b]=i.useState({customer:"",clientId:"",accessToken:""}),[w,k]=i.useState([]),[G,f]=i.useState(!1),[j,P]=i.useState(null),[C,S]=i.useState(""),[v,U]=i.useState(""),[N,F]=i.useState(!1),X=["Personal","Business","Testing","Production","Demo","Family","Investment","Trading","Swing","Intraday"],[a,u]=i.useState({brokerName:"",accountName:"",accountId:"",accountType:"Combined",accessToken:"",tags:[],isLive:!1}),[R,r]=i.useState(""),[O,c]=i.useState("");i.useEffect(()=>{Y(),h()},[]);const Y=async()=>{var s;d(!0);try{const t=x.isDhanConnected(),l=x.getDhanCredentials();b(l?{customer:l.customer||"",clientId:l.clientId,accessToken:"********"}:{customer:"",clientId:"",accessToken:""});const m=await x.getBrokerConnections();if(m.success&&((s=m.data)!=null&&s.connections)){const D=!!m.data.connections.find(de=>de.brokerName==="Dhan");y(D),!D&&t&&localStorage.removeItem("dhanCredentials")}else y(t)}catch(t){console.error("[Broker] Error checking connections:",t),y(x.isDhanConnected())}finally{d(!1)}},h=async()=>{var s;try{const t=await x.getTradingAccounts();if(t.success){const l=((s=t.data)==null?void 0:s.accounts)||[];k(l);const m=l.length>0&&l.every(n=>n.isLive);F(m)}else console.error("Failed to load trading accounts:",t.message)}catch(t){console.error("Error loading trading accounts:",t)}},J=async()=>{const s=!N;F(s);try{k(n=>n.map(D=>({...D,isLive:s})));const t=w.map(n=>x.updateTradingAccount(n.id,{isLive:s})),m=(await Promise.all(t)).filter(n=>!n.success);m.length>0?(r(`Failed to update ${m.length} account(s)`),await h()):(c(`All accounts ${s?"enabled for":"disabled from"} live trading`),setTimeout(()=>c(""),2e3))}catch{r("Failed to update accounts. Please try again."),F(!s),await h()}},H=w.filter(s=>s.accountName.toLowerCase().includes(v.toLowerCase())||s.brokerName.toLowerCase().includes(v.toLowerCase())||s.accountId.toLowerCase().includes(v.toLowerCase())||s.tags&&s.tags.some(t=>t.toLowerCase().includes(v.toLowerCase()))),_=async()=>{if(!o.clientId||!o.accessToken){r("Please fill in all required fields");return}d(!0),r("");try{const s=await x.connectDhan({clientId:o.clientId,accessToken:o.accessToken,customer:o.customer});s.success?(c("Successfully connected to Dhan broker!"),y(!0),L(!1),b({customer:o.customer,clientId:o.clientId,accessToken:"********"}),setTimeout(()=>c(""),3e3)):r(s.message||"Failed to connect to Dhan broker")}catch(s){console.error("Dhan connect error:",s),r("Failed to connect to Dhan broker. Please try again.")}finally{d(!1)}},ee=async()=>{d(!0),r("");try{const s=await x.disconnectDhan();s.success?(c("Successfully disconnected from Dhan broker"),y(!1),b({customer:"",clientId:"",accessToken:""}),setTimeout(()=>c(""),3e3)):r(s.message||"Failed to disconnect from Dhan broker")}catch(s){console.error("Dhan disconnect error:",s),r("Failed to disconnect from Dhan broker. Please try again.")}finally{d(!1)}},se=async(s,t)=>{try{k(m=>m.map(n=>n.id===s?{...n,isLive:!t}:n));const l=await x.updateTradingAccount(s,{isLive:!t});l.success?(c(`Account ${t?"disabled from":"enabled for"} live trading`),await h(),setTimeout(()=>c(""),2e3)):(k(m=>m.map(n=>n.id===s?{...n,isLive:t}:n)),r(l.message||"Failed to update live trading status"))}catch(l){k(m=>m.map(n=>n.id===s?{...n,isLive:t}:n)),console.error("Toggle live trading error:",l),r("Failed to update live trading status. Please try again.")}},te=async()=>{if(!a.brokerName||!a.accountName||!a.accountId||!a.accessToken){r("Please fill in all required fields");return}d(!0),r("");try{const s=await x.addTradingAccount(a);s.success?(c("Trading account added successfully!"),f(!1),$(),await h(),setTimeout(()=>c(""),3e3)):r(s.message||"Failed to add trading account")}catch(s){console.error("Add trading account error:",s),r("Failed to add trading account. Please try again.")}finally{d(!1)}},ae=async()=>{if(!j||!a.brokerName||!a.accountName||!a.accountId||!a.accessToken){r("Please fill in all required fields");return}d(!0),r("");try{const s=await x.updateTradingAccount(j.id,a);s.success?(c("Trading account updated successfully!"),f(!1),P(null),$(),await h(),setTimeout(()=>c(""),3e3)):r(s.message||"Failed to update trading account")}catch(s){console.error("Update trading account error:",s),r("Failed to update trading account. Please try again.")}finally{d(!1)}},re=async s=>{if(confirm("Are you sure you want to delete this trading account?")){d(!0),r("");try{const t=await x.deleteTradingAccount(s);t.success?(c("Trading account deleted successfully"),await h(),setTimeout(()=>c(""),3e3)):r(t.message||"Failed to delete trading account")}catch(t){console.error("Delete trading account error:",t),r("Failed to delete trading account. Please try again.")}finally{d(!1)}}},le=async s=>{d(!0),r("");try{const t=await x.setPrimaryTradingAccount(s);t.success?(c("Primary trading account updated successfully"),await h(),setTimeout(()=>c(""),3e3)):r(t.message||"Failed to set primary trading account")}catch(t){console.error("Set primary trading account error:",t),r("Failed to set primary trading account. Please try again.")}finally{d(!1)}},ne=s=>{P(s),u({brokerName:s.brokerName,accountName:s.accountName,accountId:s.accountId,accountType:s.accountType,accessToken:s.accessToken,tags:s.tags||[],isLive:s.isLive}),f(!0)},$=()=>{u({brokerName:"",accountName:"",accountId:"",accountType:"Combined",accessToken:"",tags:[],isLive:!1}),P(null),S("")},A=()=>{f(!1),L(!1),$(),r("")},E=s=>{var t;s&&!((t=a.tags)!=null&&t.includes(s))&&(u(l=>({...l,tags:[...l.tags||[],s]})),S(""))},oe=s=>{u(t=>({...t,tags:(t.tags||[]).filter(l=>l!==s)}))},ce=s=>{s.key==="Enter"&&(s.preventDefault(),E(C.trim()))},ie=["Dhan","Zerodha","Upstox","AngelOne","Groww","ICICI Direct","HDFC Securities","Kotak Securities"];return e.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[e.jsxs("div",{className:"professional-card p-6 bg-slate-800/50 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-100 mb-2",children:"Broker Integration"}),e.jsx("p",{className:"text-slate-400",children:"Connect your trading accounts and manage broker integrations"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(me,{className:"w-6 h-6 text-slate-400"})})]}),e.jsxs("div",{className:"flex space-x-1 bg-slate-700/30 p-1 rounded-lg",children:[e.jsxs("button",{onClick:()=>q("data"),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-3 rounded-md text-sm font-semibold transition-all duration-200 ${T==="data"?"bg-gradient-to-r from-green-600 to-green-500 text-white shadow-lg":"text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,children:[e.jsx(he,{className:"w-4 h-4"}),e.jsx("span",{children:"Data Integration"})]}),e.jsxs("button",{onClick:()=>q("trading"),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-3 rounded-md text-sm font-semibold transition-all duration-200 ${T==="trading"?"bg-gradient-to-r from-blue-600 to-blue-500 text-white shadow-lg":"text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,children:[e.jsx(Q,{className:"w-4 h-4"}),e.jsx("span",{children:"Trading Accounts"})]})]})]}),R&&e.jsxs("div",{className:"professional-card p-4 bg-red-900/20 border border-red-700/50 flex items-center space-x-2",children:[e.jsx(xe,{className:"w-5 h-5 text-red-400"}),e.jsx("span",{className:"text-red-300",children:R}),e.jsx("button",{onClick:()=>r(""),className:"ml-auto text-red-400 hover:text-red-300",children:e.jsx(I,{className:"w-4 h-4"})})]}),O&&e.jsxs("div",{className:"professional-card p-4 bg-green-900/20 border border-green-700/50 flex items-center space-x-2",children:[e.jsx(M,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{className:"text-green-300",children:O}),e.jsx("button",{onClick:()=>c(""),className:"ml-auto text-green-400 hover:text-green-300",children:e.jsx(I,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"professional-card p-6 bg-slate-800/30 border border-slate-700/50",children:[T==="data"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-200",children:"Data Integration"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Connect brokers for real-time market data and analytics"})]}),e.jsx("button",{onClick:Y,disabled:g,className:"p-2 hover:bg-slate-700 rounded-sm transition-colors",title:"Refresh connection status",children:e.jsx(ge,{className:`w-5 h-5 text-slate-400 ${g?"animate-spin":""}`})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`border rounded-sm p-4 ${p?"border-green-700/50 bg-green-900/20":"border-slate-700/50 bg-slate-800/30"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-600 to-green-500 rounded-sm flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xs",children:"DHAN"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-200",children:"Dhan Securities"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Real-time data, charts & analytics"}),p&&o.clientId&&e.jsxs("p",{className:"text-sm text-green-400",children:["Client ID: ",o.clientId]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:`flex items-center space-x-2 px-3 py-2 rounded-sm text-sm ${p?"bg-green-900/30 border border-green-700/50 text-green-300":"bg-slate-700/30 border border-slate-600/50 text-slate-400"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${p?"bg-green-400":"bg-slate-500"}`}),e.jsx("span",{children:p?"Connected":"Disconnected"})]}),p?e.jsx("button",{onClick:ee,disabled:g,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-sm transition-colors disabled:opacity-50",children:"Disconnect"}):e.jsx("button",{onClick:()=>L(!0),className:"px-4 py-2 bg-gradient-to-r from-green-600 to-green-500 text-white rounded-sm font-semibold hover:from-green-700 hover:to-green-600 transition-all duration-200",children:"Connect"})]})]})}),z&&e.jsxs("div",{className:"border border-slate-700/50 rounded-sm p-6 bg-slate-800/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-200",children:"Connect to Dhan"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Enter your Dhan API credentials to enable data integration"})]}),e.jsx("button",{onClick:A,className:"p-2 hover:bg-slate-800 rounded-sm transition-colors",children:e.jsx(I,{className:"w-5 h-5 text-slate-400"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Customer Name (Optional)"}),e.jsx("input",{type:"text",value:o.customer,onChange:s=>b({...o,customer:s.target.value}),placeholder:"Your name or identifier",className:"w-full px-4 py-3 bg-slate-800/60 border border-slate-600/50 rounded-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-green-500/30 focus:border-green-500/50 placeholder-slate-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Client ID ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:o.clientId,onChange:s=>b({...o,clientId:s.target.value}),placeholder:"Enter your Dhan Client ID",className:"w-full px-4 py-3 bg-slate-800/60 border border-slate-600/50 rounded-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-green-500/30 focus:border-green-500/50 placeholder-slate-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Access Token ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"password",value:o.accessToken,onChange:s=>b({...o,accessToken:s.target.value}),placeholder:"Enter your Dhan Access Token",className:"w-full px-4 py-3 bg-slate-800/60 border border-slate-600/50 rounded-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-green-500/30 focus:border-green-500/50 placeholder-slate-500"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{onClick:_,disabled:g||!o.clientId||!o.accessToken,className:"flex-1 bg-gradient-to-r from-green-600 to-green-500 text-white py-3 rounded-sm font-semibold hover:from-green-700 hover:to-green-600 transition-all duration-200 flex items-center justify-center space-x-2 shadow-lg hover:shadow-green-500/25 disabled:opacity-50 disabled:cursor-not-allowed",children:g?e.jsx(V,{className:"w-4 h-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{children:"Connect to Dhan"})]})}),e.jsx("button",{onClick:A,className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-sm transition-colors",children:"Cancel"})]})]})]})]})]}),T==="trading"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-200",children:"Trading Accounts"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Manage accounts for order execution and live trading"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[w.length>0&&e.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-slate-800/50 border border-slate-600/50 rounded-sm",children:[e.jsx("span",{className:"text-sm text-slate-300",children:"Master Live Toggle:"}),e.jsxs("div",{className:"relative",title:`${N?"Disable":"Enable"} all accounts for live trading`,children:[e.jsx("input",{type:"checkbox",id:"master-live-toggle",checked:N,onChange:J,className:"sr-only"}),e.jsx("label",{htmlFor:"master-live-toggle",className:`relative inline-flex items-center h-6 w-11 rounded-full cursor-pointer transition-all duration-200 ${N?"bg-gradient-to-r from-green-600 to-green-500 shadow-lg shadow-green-500/25":"bg-slate-600"}`,children:e.jsx("span",{className:`inline-block w-4 h-4 transform rounded-full bg-white shadow-md transition-transform duration-200 ${N?"translate-x-6":"translate-x-1"}`})})]}),e.jsx(fe,{className:`w-4 h-4 ${N?"text-green-400":"text-slate-400"}`})]}),e.jsxs("button",{onClick:()=>f(!0),className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-sm font-semibold hover:from-blue-700 hover:to-blue-600 transition-all duration-200 shadow-lg hover:shadow-blue-500/25",children:[e.jsx(be,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Account"})]})]})]}),w.length>1&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(W,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx("input",{type:"text",value:v,onChange:s=>U(s.target.value),placeholder:"Search accounts by name, broker, ID, or tags...",className:"w-full pl-10 pr-4 py-3 bg-slate-800/60 border border-slate-600/50 rounded-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500/50 placeholder-slate-500"})]})}),H.length>0?e.jsx("div",{className:"space-y-4",children:H.map(s=>e.jsx("div",{className:`p-4 border rounded-sm ${s.isPrimary?"border-green-700/50 bg-green-900/20":"border-slate-700/50 bg-slate-800/30"} hover:border-slate-600/50 transition-colors`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-blue-500 rounded-sm flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xs",children:s.brokerName.slice(0,3).toUpperCase()})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h4",{className:"font-semibold text-slate-200",children:s.accountName}),s.isPrimary&&e.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-green-900/30 border border-green-700/50 rounded-sm",children:[e.jsx(Z,{className:"w-3 h-3 text-green-400"}),e.jsx("span",{className:"text-xs text-green-300",children:"Primary"})]}),s.isLive&&e.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-green-900/30 border border-green-700/50 rounded-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-green-300",children:"Live Trading"})]})]}),e.jsxs("p",{className:"text-sm text-slate-400 mb-1",children:[s.brokerName," • ",s.accountType]}),e.jsxs("p",{className:"text-sm text-slate-400 mb-2",children:["Account ID: ",s.accountId]}),s.accessToken&&e.jsx("p",{className:"text-sm text-slate-400 mb-2",children:"API: Connected"}),s.tags&&s.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:s.tags.map((t,l)=>e.jsx("span",{className:"inline-block px-2 py-1 bg-blue-900/30 border border-blue-700/50 rounded-sm text-xs text-blue-300",children:t},l))})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[!s.isPrimary&&e.jsx("button",{onClick:()=>le(s.id),className:"p-2 hover:bg-slate-700 rounded-sm transition-colors text-slate-400 hover:text-green-400",title:"Set as primary",children:e.jsx(Z,{className:"w-4 h-4"})}),e.jsxs("div",{className:"relative",title:`${s.isLive?"Disable":"Enable"} live trading`,children:[e.jsx("input",{type:"checkbox",id:`live-${s.id}`,checked:s.isLive,onChange:()=>se(s.id,s.isLive),className:"sr-only"}),e.jsx("label",{htmlFor:`live-${s.id}`,className:`relative inline-flex items-center h-5 w-9 rounded-full cursor-pointer transition-all duration-200 ${s.isLive?"bg-gradient-to-r from-green-600 to-green-500 shadow-md shadow-green-500/25":"bg-slate-600 hover:bg-slate-500"}`,children:e.jsx("span",{className:`inline-block w-3 h-3 transform rounded-full bg-white shadow-sm transition-transform duration-200 ${s.isLive?"translate-x-5":"translate-x-1"}`})})]}),e.jsx("button",{onClick:()=>ne(s),className:"p-2 hover:bg-slate-700 rounded-sm transition-colors text-slate-400 hover:text-blue-400",title:"Edit account",children:e.jsx(pe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>re(s.id),className:"p-2 hover:bg-slate-700 rounded-sm transition-colors text-slate-400 hover:text-red-400",title:"Delete account",children:e.jsx(je,{className:"w-4 h-4"})})]})]})},s.id))}):w.length>0&&v?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(W,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-300 mb-2",children:"No accounts found"}),e.jsx("p",{className:"text-slate-400 mb-4",children:"No trading accounts match your search criteria"}),e.jsx("button",{onClick:()=>U(""),className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-sm transition-colors",children:"Clear search"})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Q,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-300 mb-2",children:"No Trading Accounts"}),e.jsx("p",{className:"text-slate-400 mb-6",children:"Add your trading accounts to execute trades"}),e.jsx("button",{onClick:()=>f(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-sm font-semibold hover:from-blue-700 hover:to-blue-600 transition-all duration-200 shadow-lg hover:shadow-blue-500/25",children:"Add Trading Account"})]}),G&&e.jsxs("div",{className:"border border-slate-700/50 rounded-sm p-6 bg-slate-800/30 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-200",children:j?"Edit Trading Account":"Add Trading Account"}),e.jsx("p",{className:"text-sm text-slate-400",children:j?"Update your trading account details":"Add a new trading account for order execution"})]}),e.jsx("button",{onClick:A,className:"p-2 hover:bg-slate-800 rounded-sm transition-colors",children:e.jsx(I,{className:"w-5 h-5 text-slate-400"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Broker Name ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("select",{value:a.brokerName,onChange:s=>u({...a,brokerName:s.target.value}),className:"w-full px-4 py-3 bg-slate-800/60 border border-slate-600/50 rounded-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500/50",children:[e.jsx("option",{value:"",children:"Select Broker"}),ie.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Account Name ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:a.accountName,onChange:s=>u({...a,accountName:s.target.value}),placeholder:"e.g., My Trading Account",className:"w-full px-4 py-3 bg-slate-800/60 border border-slate-600/50 rounded-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500/50 placeholder-slate-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Account ID ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:a.accountId,onChange:s=>u({...a,accountId:s.target.value}),placeholder:"Your broker account ID",className:"w-full px-4 py-3 bg-slate-800/60 border border-slate-600/50 rounded-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500/50 placeholder-slate-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Access Token ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"password",value:a.accessToken,onChange:s=>u({...a,accessToken:s.target.value}),placeholder:"Your broker API access token (required)",className:"w-full px-4 py-3 bg-slate-800/60 border border-slate-600/50 rounded-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500/50 placeholder-slate-500"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Required for automated trading via API"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Tags"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(K=a.tags)==null?void 0:K.map((s,t)=>e.jsxs("span",{className:"inline-flex items-center space-x-1 px-2 py-1 bg-blue-900/30 border border-blue-700/50 rounded-sm text-xs text-blue-300",children:[e.jsx("span",{children:s}),e.jsx("button",{type:"button",onClick:()=>oe(s),className:"text-blue-400 hover:text-blue-300 ml-1",children:"×"})]},t))}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:C,onChange:s=>S(s.target.value),onKeyPress:ce,placeholder:"Add a tag (e.g., Personal, Production)",className:"flex-1 px-3 py-2 bg-slate-800/60 border border-slate-600/50 rounded-sm text-slate-200 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500/50 placeholder-slate-500"}),e.jsx("button",{type:"button",onClick:()=>E(C.trim()),disabled:!C.trim(),className:"px-3 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-600 disabled:cursor-not-allowed text-white text-sm rounded-sm transition-colors",children:"Add"})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:X.map(s=>{var t;return e.jsx("button",{type:"button",onClick:()=>E(s),disabled:(t=a.tags)==null?void 0:t.includes(s),className:"px-2 py-1 text-xs bg-slate-700 hover:bg-slate-600 disabled:bg-slate-800 disabled:text-slate-500 disabled:cursor-not-allowed text-slate-300 rounded-sm transition-colors",children:s},s)})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Account Type"}),e.jsxs("select",{value:a.accountType,onChange:s=>u({...a,accountType:s.target.value}),className:"w-full px-4 py-3 bg-slate-800/60 border border-slate-600/50 rounded-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500/50",children:[e.jsx("option",{value:"Combined",children:"Combined (Trading + Demat)"}),e.jsx("option",{value:"Trading",children:"Trading Only"}),e.jsx("option",{value:"Demat",children:"Demat Only"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Live Trading"}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-slate-800/60 border border-slate-600/50 rounded-sm",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",id:"isLive",checked:a.isLive||!1,onChange:s=>u({...a,isLive:s.target.checked}),className:"sr-only"}),e.jsx("label",{htmlFor:"isLive",className:`relative inline-flex items-center h-6 w-11 rounded-full cursor-pointer transition-all duration-200 ${a.isLive?"bg-gradient-to-r from-green-600 to-green-500 shadow-lg shadow-green-500/25":"bg-slate-600"}`,children:e.jsx("span",{className:`inline-block w-4 h-4 transform rounded-full bg-white shadow-md transition-transform duration-200 ${a.isLive?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"isLive",className:"text-sm text-slate-200 cursor-pointer",children:"Enable live trading for this account"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"When enabled, this account will participate in live trading sessions"})]})]})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{onClick:j?ae:te,disabled:g||!a.brokerName||!a.accountName||!a.accountId||!a.accessToken,className:"flex-1 bg-gradient-to-r from-blue-600 to-blue-500 text-white py-3 rounded-sm font-semibold hover:from-blue-700 hover:to-blue-600 transition-all duration-200 flex items-center justify-center space-x-2 shadow-lg hover:shadow-blue-500/25 disabled:opacity-50 disabled:cursor-not-allowed",children:g?e.jsx(V,{className:"w-4 h-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{children:j?"Update Account":"Add Account"})]})}),e.jsx("button",{onClick:A,className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-sm transition-colors",children:"Cancel"})]})]})]})]})]}),e.jsxs("div",{className:"professional-card p-6 bg-slate-800/30 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(ue,{className:"w-5 h-5 text-green-400"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-200",children:"Security & Privacy"})]}),e.jsxs("div",{className:"text-sm text-slate-300 space-y-2",children:[e.jsx("p",{children:"• All API credentials and account details are encrypted and stored securely"}),e.jsx("p",{children:"• We never store your trading passwords or login credentials"}),e.jsx("p",{children:"• You can disconnect brokers and remove accounts at any time"}),e.jsx("p",{children:"• All trading operations require your explicit authorization"})]})]})]})};export{De as default};
